---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "string function - sops"
subcategory: ""
description: |-
  Reads and decrypts a sops encrypted string.
---

# function: string

Reads and decrypts a [sops](https://getsops.io/) encrypted string.
An optional format can be provided to specify the format of the encrypted string. If not
provided, structured data will not be automatically converted to an object. Supported formats
are `yaml`, `json`, `dotenv`, `ini`, and `binary`.

If the data format is any of the supported formats other than `binary`, the
decrypted data will also be returned as an object in the `data` attribute.
Regardless of the format, the raw decrypted data will always be returned in the `raw` attribute.

Decryption is based on the sops library, so it will use the same heuristics and key sources
as sops to attempt to decrypt the data.

## Example Usage

```terraform
data "http" "raw" {
  url = "https://raw.githubusercontent.com/nobbs/terraform-provider-sops/refs/heads/main/test/fixtures/raw.sops.txt"
}

output "raw" {
  value = provider::sops::string(data.http.raw.response_body)
}

# raw = {
#   "data" = null
#   "raw" = <<-EOT
#   Lorem ipsum dolor sit amet, consectetur adipiscing elit.
#
#   EOT
# }

output "basic-json" {
  value = provider::sops::string(file("./../../../test/fixtures/basic.sops.json"), "json")
}

# basic-json = {
#   "data" = {
#     "abc" = "xyz"
#     "floats" = 0.000000000314
#     "integers" = 123
#     "truthy" = true
#   }
#   "raw" = <<-EOT
#   {
#   	"abc": "xyz",
#   	"integers": 123,
#   	"truthy": true,
#   	"floats": 3.14e-10
#   }
#   EOT
# }
```

## Signature

<!-- signature generated by tfplugindocs -->
```text
string(data string, format string...) object
```

## Arguments

<!-- arguments generated by tfplugindocs -->
1. `data` (String) The sops encrypted string.
<!-- variadic argument generated by tfplugindocs -->
1. `format` (Variadic, String, Nullable) The format of the encrypted file. Supported formats are `yaml`, `json`, `dotenv`, `ini`, and `binary`. Optional.
